<!DOCTYPE html>
<html>
<head>
  <title>Google Apps Script Test</title>
<style>

select {
            padding: 10px;
            margin: 5px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 16px;
            width: 250px; /* Adjust width as needed */
            box-sizing: border-box; /* Include padding and border in width */
        }

        select:focus {
            outline: none;
            border-color: #007bff; /* Highlight on focus */
            box-shadow: 0 0 5px rgba(0, 123, 255, 0.5); /* Add a subtle shadow */
        }

        label {
            display: block;
            margin-top: 10px;
            font-weight: bold;
        }

        input[type="submit"] {
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 15px;
        }

        input[type="submit"]:hover {
            background-color: #0056b3;
        }

	input[type="text"] {
            padding: 10px;
            margin: 5px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 16px;
            width: 250px; /* Adjust width as needed */
            box-sizing: border-box; /* Include padding and border in width */
        }

label {
  font-size: 22px; /* Match the font size of the text box */
  margin-right: 5px; /* Add some spacing to the right of the label */
}


input[type="radio"] {
  margin: 5px; /* Add some margin around the radio button */
  /* You might want to adjust width and height for better visual consistency, but it can be tricky with default radio buttons */
}
</style>
</head>
<body>
  

	<form id="customForm">

				  
        <label for="region">Division:</label>
        <select id="region" name="entry.710054407">
            <option value="Division 1">Division 1</option>
            <option value="Division 2">Division 2</option>
	    <option value="Division 3">Division 3</option>
            <option value="Division 4">Division 4</option>
            <option value="Division 5">Division 5</option>
            <option value="Division 6">Division 6</option>
            <option value="Division 7">Division 7</option>
            <option value="Division 8">Division 8</option>
            <option value="Division 9">Division 9</option>
            <option value="Division 10">Division 10</option>
        </select>
        <br><br>

        <label for="team">Team:</label>
        <select id="team" name="entry.524307792">
            <option value="">Select a team</option>
        </select>
	<br><br>

      <label for="round">Round:</label>
        <select id="round" name="round">
            <option value="Round 1">Round 1</option>
            <option value="Round 2">Round 2</option>
	    <option value="Round 3">Round 3</option>
            <option value="Round 4">Round 4</option>
            <option value="Round 5">Round 5</option>
            <option value="Round 6">Round 6</option>
            <option value="Round 7">Round 7</option>
        </select>
        <br><br>

       <label for="match">Match:</label>
        <select id="match" name="match">
            <option value="">Select a Match</option>
        </select>
	<br><br>

	
  <hr>
<div>
  <h3>Player awarded with 3 points</h3>
  <div style="display: flex; align-items: center;">
    <label for="player1Name" style="margin-right: 10px;">Name:</label>
    <input type="text" id="player1Name" name="player1Name">
    <label style="margin-left: 20px; margin-right: 5px;">  3 Points</label>
   
  </div>
</div>

<hr>

<div>
  <h3>Player awarded with 2 points</h3>
  <div style="display: flex; align-items: center;">
    <label for="player2Name" style="margin-right: 10px;">Name:</label>
    <input type="text" id="player2Name" name="player2Name">
    <label style="margin-left: 20px; margin-right: 5px;">  2 Points</label>
  </div>
</div>

<hr>

<div>
  <h3>Player awarded with 1 point</h3>
  <div style="display: flex; align-items: center;">
    <label for="player3Name" style="margin-right: 10px;">Name:</label>
    <input type="text" id="player3Name" name="player3Name">
    <label style="margin-left: 20px; margin-right: 5px;"> 1 Point</label>
  </div>
</div>
<hr>
	

        <input type="submit" value="Submit">
    </form>

  <script>

		let MatchesBasedOnRoundsDataCache = []; 
		let divisionTeamsDataCache = [];

//listofmatchesbasedonround

	function populateTeamDropdown(teamsDataCache) {
            // Your code to fetch team options from Google Apps Script
            // and populate the team dropdown.
		
                    var teamOptions = [];
                    for (var i = 1; i < teamsDataCache.length; i++) {
                        if (teamsDataCache[i][0] == document.getElementById('region').value) {
                            teamOptions.push(data[i][1]);
                        }
                    }
                    var teamDropdown = document.getElementById('team');
                    teamDropdown.innerHTML = "";
                    for (var j = 0; j < teamOptions.length; j++) {
                        var option = document.createElement("option");
                        option.text = teamOptions[j];
                        option.value = teamOptions[j];
                        teamDropdown.add(option);
                    }
                });
        

	function updateRounds(MatchesBasedOnRoundsDataCache){
	
	var matchOptions = [];
	
	for (var i = 1; i < teamsDataCache.length; i++) {
                        if (teamsDataCache[i][0] == document.getElementById('round').value) {
                            teamOptions.push(data[i][1]);
                        }
                    }
					var matchOptions = document.getElementById('match');
                    matchOptions.innerHTML = "";
                    for (var j = 0; j < teamOptions.length; j++) {
                        var option = document.createElement("option");
                        option.text = teamOptions[j];
                        option.value = teamOptions[j];
                        matchOptions.add(option);
                    }

	




	}

        document.getElementById('region').addEventListener('change', (event) => {
  const selectedRegion = event.target.value;
  if (selectedRegion) {
    fetch('https://script.google.com/macros/s/AKfycby6Qr0P_w2xZ4dkvXRstQd2EqZZuF9YgtLcj2ufhMkVnRBDDM4FQ0Ktk0tle45_HEAq/exec' + '?sheetname=' + encodeURIComponent(sheetname)')
      .then(response => response.json())
      .then(data => {
        // Store team data (assuming your doGet returns teams filtered by division)
        teamsDataCache = data.teams || [];
        populateTeamDropdown(teamsDataCache);
	

        // Store division match data
        MatchesBasedOnRoundsDataCache = data.listofmatchesbasedonround || [];
        
      })
      .catch(error => console.error('Error fetching data:', error));
  } else {
    teamDropdown.innerHTML = '<option value="">Select a team</option>';
    roundDropdown.innerHTML = '<option value="">Select a round</option>';
    matchDropdown.innerHTML = '<option value="">Select a match</option>';
    teamsDataCache = [];
    divisionMatchDataCache = [];
  }
});




//-----------------------------------------------------------------------------------------------------

	document.getElementById('round').addEventListener('change', updateRounds);



    document.getElementById('customForm').addEventListener('submit', function() {
	event.preventDefault();

	     var region = document.getElementById('region').value;
     	 var team = document.getElementById('team').value;
	     var roundNo = document.getElementById('round').value;
         var teamVs = document.getElementById('match').value;
         var threepointsplayer = document.getElementById('player1Name').value;
         var twopointsplayer = document.getElementById('player2Name').value;
         var onepointplayer = document.getElementById('player3Name').value;


      fetch('https://script.google.com/macros/s/AKfycbwuSozhn9zsMr4MauQl4tEX8Io-WLb5Lr6Ff-w0uc5a1cF6YAIbaJ01TLx30-KXlxrd/exec', { // Replace with your script URL
        method: 'POST',
        mode: 'cors',
        headers: {
          'Content-Type': 'application/x-www-form-urlencoded'
        },
        body: 'region=' + encodeURIComponent(region) + '&team=' + encodeURIComponent(team)+ '&roundNo=' + encodeURIComponent(roundNo) + '&match=' + encodeURIComponent(teamVs) + '&threepointsplayer=' +  encodeURIComponent(threepointsplayer) + '&twopointsplayer=' +  encodeURIComponent(twopointsplayer) + '&onepointplayer=' +  encodeURIComponent(onepointplayer)// URL-encoded parameters
      })
      .then(response => response.text())
      .then(data => {
        console.log(data); // Log the response
        alert(data); // Alert the response
      })
      .catch(error => {
        console.error('Error:', error);
        alert('An error occurred.');
      });
    });
  </script>
</body>
</html>